/*20180705*/
var jsBridge=function(){var n=!1,e={isReady:function(){return!!window.WebViewJavascriptBridge},ready:function(n){!function(n){if(window.WebViewJavascriptBridge)return n(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(n);window.WVJBCallbacks=[n];var e=document.createElement("iframe");e.style.display="none",e.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(e),setTimeout(function(){document.documentElement.removeChild(e)},0)}(n)},bc:{login:function(n){t("b.login",{},n)},logout:function(n){t("b.logout",{},n)},setShouldUseAlipay:function(n){t("b.setShouldUseAlipay",{b:n})},setSyncForTaoke:function(n){t("b.setSyncForTaoke",{b:n})},setForceH5:function(n){t("b.setForceH5",{b:n})},setTaokeParams:function(n){t("b.setTaokeParams",n)},setChannel:function(n){t("b.setChannel",n)},setISVCode:function(n){t("b.setISVCode",{s:n})},setISVVersion:function(n){t("b.setISVVersion",{s:n})},detail:function(n,e){t("b.detail",n,e)},shop:function(n,e){t("b.shop",n,e)},url:function(n,e){t("b.url",n,e)},addCart:function(n,e){t("b.addCart",n,e)},cart:function(n,e){t("b.cart",n,e)},order:function(n,e){t("b.order",n,e)}},getui:{turnOffPush:function(){t("g.turnOffPush")},turnOnPush:function(){t("g.turnOnPush")},isPushTurnedOn:function(n){o("g.isPushTurnedOn",{},n)},getClientid:function(n){i("g.getClientid",{},n)},bindAlias:function(n,e){o("g.bindAlias",{alias:n},e)},unBindAlias:function(n,e){o("g.unBindAlias",n,e)},setTag:function(n,e){o("g.setTag",{tags:n},e)},setSilentTime:function(n,e){o("g.setSilentTime",n,e)}},jiguang:{stopPush:function(){t("j.stopPush")},resumePush:function(){t("j.resumePush")},isPushStopped:function(n){o("j.isPushStopped",{},n)},getRegistrationID:function(n){i("j.getRegistrationID",{},n)},setAlias:function(n,e){i("j.setAlias",{alias:n},e)},deleteAlias:function(n){i("j.deleteAlias",{},n)},getAlias:function(n){i("j.getAlias",{},n)},setTags:function(n,e){a("j.setTags",{tags:n},e)},addTags:function(n,e){a("j.addTags",{tags:n},e)},deleteTags:function(n,e){a("j.deleteTags",{tags:n},e)},cleanTags:function(n){a("j.cleanTags",{},n)},getAllTags:function(n){a("j.getAllTags",{},n)}},action:function(n){t("action",n?{btns:n}:{},null)},onMenuAction:function(n){c("onMenuAction",function(t){e.action(n)})},uiNavigation:function(n){t("uiNavigation",{b:n})},uiShare:function(n){t("uiShare",{b:n})},uiActions:function(n){t("uiActions",{b:n})},uiRefresh:function(n){t("uiRefresh",{b:n})},showImages:function(n){t("showImages",n)},canGoBack:function(n){o("canGoBack",{},n)},canGoForward:function(n){o("canGoForward",{},n)},backToHome:function(n){t("backToHome",{loadHomePage:!!n})},contactOne:function(n){a("contactOne",{},n)},contactAll:function(n){a("contactAll",{},n)},setClipboardText:function(n){t("setClipboardText",{text:n})},getClipboardText:function(n){i("getClipboardText",{},n)},debug:function(){t("debug",{}),n=!0},qqLogin:function(n){n?t("qqLogin",{},function(e,t){if("function"==typeof n)n(e,t?JSON.parse(t):null);else if(e&&"string"==typeof n){var i=JSON.parse(t),o=n+(n.indexOf("?")>=0?"&":"?")+"openid="+encodeURIComponent(i.openid)+"&access_token="+encodeURIComponent(i.access_token);i.userinfo&&(o+="&userinfo="+JSON.stringify(i.userinfo)),location.href=o}}):alert("Missing Parameter")},wxLogin:function(n){n?t("wxLogin",{},function(e,t){if("function"==typeof n)n(e,t?JSON.parse(t):null);else if(e&&"string"==typeof n){var i=JSON.parse(t),o=n+(n.indexOf("?")>=0?"&":"?")+"code="+encodeURIComponent(i.code);i.openid&&(o+="&openid="+encodeURIComponent(i.openid)),i.access_token&&(o+="&access_token="+encodeURIComponent(i.access_token)),i.userinfo&&(o+="&userinfo="+JSON.stringify(i.userinfo)),location.href=o}}):alert("Missing Parameter")},wxAppInstalled:function(n){o("wxAppInstalled",{},n)},pay:function(n,e){t("pay",n,e)},wxPay:function(n,e){t("wxPay",n,e)},aliPay:function(n,e){t("aliPay",n,e)},net:function(n,e){t("net",n,e)},share:function(n,e){t("share",n,e)},shareText:function(n,e){t("shareText",n,e)},shareImage:function(n,e){t("shareImage",n,e)},shareMusic:function(n,e){t("shareMusic",n,e)},shareVideo:function(n,e){t("shareVideo",n,e)},shareImages:function(n,e){t("shareImages",n,e)},scan:function(n,e){i("scan",n,e)},scanFromAlbum:function(n,e){i("scanFromAlbum",n,e)},scanFromUrl:function(n,e){i("scanFromUrl",n,e)},cacheSize:function(n){t("cacheSize",{},function(e,t){n&&n(e&&t?parseInt(t):0)})},clearCache:function(n){i("clearCache",{},n)},setPushAlias:function(n,e){t("setPushAlias",n,e)},setPushTags:function(n,e){t("setPushTags",n,e)},getInstallId:function(n){i("getInstallId",{},n)},getDeviceId:function(n){i("getDeviceId",{},n)},onMenuShareTimeline:function(n){u("onMenuShareTimeline",0,n)},onMenuShareFriend:function(n){u("onMenuShareFriend",1,n)},onMenuShareQQ:function(n){u("onMenuShareQQ",2,n)},onMenuShareQZone:function(n){u("onMenuShareQZone",3,n)}};function t(e,t,i){s()&&(n&&alert("js call\n\nname:"+e+"\noptions:"+JSON.stringify(t)),window.WebViewJavascriptBridge.callHandler(e,t||{},function(e){if(n&&alert("js back\n\n"+e),i&&"function"==typeof i){var t=JSON.parse(e);i(!!t.success,t.text)}}))}function i(n,e,i){t(n,e,function(n,e){i&&i(e)})}function o(n,e,i){t(n,e,function(n,e){i&&i("true"==e)})}function a(n,e,i){t(n,e,function(n,e){i&&i(e?JSON.parse(e):null)})}function c(n,e){s()&&window.WebViewJavascriptBridge.registerHandler(n,function(n,t){var i={ok:!0};e&&(void 0!=e(n)&&(i.data=e(n)));t(i)})}function s(){return e.inApp?!!e.isReady()||(alert("jsBridge is not ready"),!1):(alert("jsBridge can only used in App"),!1)}function u(n,t,i){c(n,function(n){"function"==typeof i?i():(i=i||{},e.share({to:t,title:i.title||document.title,link:i.link||location.href,imgUrl:i.imgUrl||"",desc:i.desc||""},function(n){n&&i.success&&i.success(),n||i.cancel&&i.cancel()}))})}var r=/LT-APP\/(\d+)/,f=navigator.userAgent;Object.defineProperty(e,"inApp",{configurable:!1,writable:!1,value:r.test(f)}),Object.defineProperty(e,"version",{configurable:!1,writable:!1,value:e.inApp?parseInt(r.exec(f)[1]):0});var l=/LT-APP\/(\d+)\/(\d+)/;return Object.defineProperty(e,"appVersion",{configurable:!1,writable:!1,value:l.test(f)?parseInt(l.exec(f)[2]):0}),e.inApp&&e.ready(function(){}),e}();